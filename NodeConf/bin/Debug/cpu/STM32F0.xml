<?xml version="1.0" encoding="utf-8"?>
<cpu name="S2">
  <!-- pin 
            fpin    - номер ноги контроллера-->
  <!-- pwm  
            timer   - номер таймера
            channel - канал таймер
            af      - номер альтернативной функции
            -->
  <!-- ain
            channel - внутренний номер аналогового входа
            -->
  <port name="GPIO_A" titel="PA" offset="0" nr="0">
    <pin idx="0" fpin="06">
      <dio />
      <pwm name="TIM2_CH1" timer="2" channel="1" af="2"/>
      <ain name="AIN0" channel="0" />
    </pin>
    <pin idx="1" fpin="07">
      <dio />
      <pwm timer="2" channel="2" af="2"/>
      <ain name="AIN1" channel="1" />
      <serial name="DE" channel="2" config="0" />
    </pin>
    <pin idx="2" fpin="08">
      <dio />
      <pwm timer="2"   channel="3" af="2"/>
      <pwm timer="15"  channel="1" af="0"/>
      <ain name="AIN2" channel="2" />
      <serial name="RX" channel="2" config="0" />
    </pin>
    <pin idx="3" fpin="09">
      <dio />
      <pwm timer="2"   channel="3" af="2"/>
      <pwm timer="15"  channel="2" af="0"/>
      <ain name="AIN3" channel="3" />
      <serial name="TX" channel="2" config="0" />
    </pin>
    <pin idx="4" fpin="10">
      <dio />
      <pwm timer="14"  channel="1" af="4"/>
      <ain name="AIN4" channel="4" />
    </pin>
    <pin idx="5" fpin="11">
      <dio />
      <pwm timer="2"   channel="1" af="2"/>
      <ain name="AIN5" channel="5" />
      <spi name="SCK" channel="1" config="1" />
    </pin>
    <pin idx="6" fpin="12">
      <dio />
      <pwm timer="3"   channel="1" af="1"/>
      <pwm timer="16"  channel="1" af="5"/>
      <ain name="AIN6" channel="6" />
      <spi name="MISO" channel="1" config="1" />
    </pin>
    <pin idx="7" fpin="13">
      <dio />
      <pwm timer="3"   channel="2" af="1"/>
      <pwm timer="14"  channel="1" af="4"/>
      <pwm timer="17"  channel="1" af="5"/>
      <ain name="AIN7" channel="7" />
      <spi name="MOSI" channel="1" config="1" />
    </pin>
    <pin idx="8" fpin="18">
      <dio />
      <pwm timer="1"   channel="1" af="2"/>
    </pin>
    <pin idx="9" fpin="19">
      <dio />
      <pwm timer="1"   channel="2" af="2"/>
      <serial name="TX" channel="1" config="0" />
    </pin>
    <pin idx="10" fpin="20">
      <dio />
      <pwm timer="1"   channel="3" af="2"/>
      <serial name="RX" channel="1" config="0" />
    </pin>
    <pin idx="11" fpin="21">
      <dio />
      <pwm timer="1"   channel="4" af="2"/>
      <serial name="DE" channel="1" config="0" />
    </pin>
    <pin idx="12" fpin="22">
      <dio />
    </pin>
    <pin idx="13" fpin="23" default="SWDAT">
      <dio />
      <system name="SWDAT" af="0" />
    </pin>
    <pin idx="14" fpin="24" default="SWCLK">
      <dio />
      <system name="SWCLK" af="0" />
      <serial name="TX" channel="2" config="1"/>
    </pin>
    <pin idx="15" fpin="25">
      <dio />
      <pwm timer="2"   channel="1" af="2"/>
      <serial name="RX" channel="2" config="1"/>
    </pin>
  </port>
  <port  name="GPIO_B" titel="PB" offset="16" nr="1">
    <pin idx="0" fpin="14">
      <dio />
      <pwm timer="3"   channel="3" af="1"/>
      <ain name="AIN8" channel="8" />
    </pin>
    <pin idx="1" fpin="15">
      <dio />
      <pwm timer="3"   channel="4" af="1"/>
      <pwm timer="14"  channel="1" af="4"/>
      <ain name="AIN9" channel="9" />
    </pin>
    <pin idx="2" fpin="16">
      <dio />
    </pin>
    <pin idx="3" fpin="26">
      <dio />
      <pwm timer="2"   channel="2" af="2"/>
      <spi name="SCK" channel="1" config="2" />
    </pin>
    <pin idx="4" fpin="27">
      <dio />
      <pwm timer="3"   channel="1" af="1"/>
      <spi name="MISO" channel="1" config="2" />
    </pin>
    <pin idx="5" fpin="28">
      <dio />
      <pwm timer="3"   channel="2" af="1"/>
      <spi name="MOSI" channel="1" config="2" />
    </pin>
    <pin idx="6" fpin="29">
      <dio />
      <serial name="TX" channel="1" config="1" />
      <twi name="SCL" channel="1" config="1" />
    </pin>
    <pin idx="7" fpin="30">
      <dio />
      <serial name="RX" channel="1" config="1" />
      <twi name="SDA" channel="1" config="1" />
    </pin>
    <pin idx="8" fpin="31">
      <dio />
      <pwm timer="16"  channel="1" af="2"/>
    </pin>
  </port>
  <pin name="RTC">
    <system name="LSI" src="HAL_USE_RTC 1" />
    <system name="HSE" src="HAL_USE_RTC 1\nHAL_RTC_USE_HSE" />
    <system name="LSE" src="HAL_USE_RTC 1\nHAL_RTC_CHECK_LSE" />
  </pin>
  <pin name="VCC">
    <ain name="VCC" channel="14" />
  </pin>
</cpu>